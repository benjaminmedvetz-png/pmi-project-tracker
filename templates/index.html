<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>PMI Project Tracker</title>
  <style>
    body{font-family:Segoe UI,Arial;margin:24px;}
    .grid{display:grid;grid-template-columns: 380px 1fr;gap:18px;}
    .card{border:1px solid #ddd;border-radius:10px;padding:14px;}
    .list a{display:block;padding:8px 10px;border-radius:8px;text-decoration:none;color:#111;}
    .list a:hover{background:#f3f3f3;}
    .tag{display:inline-block;padding:2px 8px;border:1px solid #ccc;border-radius:999px;font-size:12px;margin-left:6px;}
    input,select,textarea{width:100%;padding:8px;margin-top:6px;margin-bottom:10px;}
    textarea{min-height:110px;}
    .muted{color:#666;font-size:12px;}
    h2{margin:0 0 10px 0;}
    button{padding:9px 12px;border-radius:9px;border:1px solid #ccc;cursor:pointer;}
  </style>
</head>
<body>
  <h1>PMI Project Tracker (Lite)</h1>
  <div class="grid">
    <div class="card">
      <h2>New Project</h2>
      <form method="post" action="/projects">
        <label>Project name</label>
        <input name="name" required />

        <label>Description</label>
        <textarea name="description"></textarea>

        <label>Projected completion date</label>
        <input type="date" name="due_date"/>

        <label>Priority</label>
        <select name="priority">
          {% for p in priorities %}<option value="{{p}}">{{p}}</option>{% endfor %}
        </select>

        <label>Status</label>
        <select name="status">
          {% for s in statuses %}<option value="{{s}}">{{s}}</option>{% endfor %}
        </select>

        <button type="submit">Create</button>
      </form>
      <p class="muted">Open projects show first, Completed goes to the bottom automatically.</p>
    </div>

    <div class="card">
      <h2>Projects</h2>
      <div class="list">
        {% for pr in projects %}
          <a href="/project/{{pr.id}}">
            <strong>{{pr.name}}</strong>
            <span class="tag">{{pr.priority}}</span>
            <span class="tag">{{pr.status}}</span><br/>
            <span class="muted">Due: {{pr.due_date or "—"}} • Updated: {{pr.updated_at}}</span>
          </a>
        {% else %}
          <p class="muted">No projects yet.</p>
        {% endfor %}
      </div>
    </div>
  </div>
</body>
</html>
